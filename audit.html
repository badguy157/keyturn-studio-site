<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Request a Quick Audit | Keyturn Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Get a 10-minute Loom audit with 3 fixes and an ROI estimate for your inn or small hotel.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="/public/logo-mark.svg?v=2">
  <link rel="icon" sizes="32x32" href="/public/favicon-32.png?v=2">
  <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon.png?v=2">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
<a class="skip-link" href="#main">Skip to content</a>

<!-- Sticky site header (same as index/onboarding) -->
<header class="site-header">
  <div class="container header-bar">
    <a class="brand" href="/" aria-label="Keyturn Studio home">
      <img src="/public/logo.svg?v=2" alt="Keyturn Studio" width="180" height="56" decoding="async">
    </a>

    <!-- Desktop nav -->
    <nav class="nav-desktop" aria-label="Primary">
      <ul class="nav-list">
        <li><a href="/onboarding.html">How it works</a></li>
        <li><a href="/#results">Proof</a></li>
        <li><a href="/#pricing">Pricing</a></li>
      </ul>
      <div class="nav-ctas">
        <a class="btn btn-ghost" href="/audit.html#audit">Get a 10-min audit</a>
        <a class="btn btn-primary" href="/onboarding.html" aria-label="Skip audit and start onboarding">Start onboarding</a>
      </div>
    </nav>

    <!-- Mobile hamburger -->
    <button class="menu-toggle" aria-controls="mobileMenu" aria-expanded="false" data-menu-toggle>
      <span class="sr-only"></span>â˜°
    </button>
  </div>

  <!-- Mobile drawer -->
  <nav id="mobileMenu" class="mobile-drawer" hidden aria-label="Mobile">
    <a href="/onboarding.html">How it works</a>
    <a href="/#results">Proof</a>
    <a href="/#pricing">Pricing</a>
    <a class="btn btn-ghost w-full" href="/audit.html#audit">Get a 10-min audit</a>
    <a class="btn btn-primary w-full" href="/onboarding.html">Start onboarding</a>
  </nav>
</header>

<!-- Compact hero (same style) -->
<section class="hero">
  <div class="container">
    <h1 class="hero-title">Get a <span class="accent">10-min audit</span></h1>
    <p class="hero-lede">Weâ€™ll send a <strong>2â€“3 minute Loom</strong> with <strong>3 fixes</strong> and an <strong>ROI estimate</strong> for moving bookings to website-direct.</p>
  </div>
</section>

<main id="main" class="section">
  <div class="container">
    <section class="card" id="audit" aria-labelledby="auditTitle">
      <h2 id="auditTitle">Audit form</h2>
      <p class="small">We only use this to send your Loom. No spam â€” ever.</p>

      <form id="auditForm"
            class="audit-form"
            action="https://formspree.io/f/mvgdpyay"
            method="POST" novalidate>
        <div class="form-row">
          <label for="property">Property name</label>
          <input id="property" type="text" name="property" required autocomplete="organization">
        </div>

        <div class="form-row">
          <label for="website">Website URL</label>
          <input id="website" type="url" name="website" placeholder="https://example.com" required autocomplete="url">
        </div>

        <div class="form-row two">
          <div>
            <label for="rooms">Rooms</label>
            <input id="rooms" type="number" name="rooms" min="1" max="100" required inputmode="numeric" autocomplete="off">
          </div>
          <div>
            <label for="adr">
              <abbr title="Average Daily Rate â€” typical nightly room price before taxes/fees">ADR</abbr> (approx.)
            </label>
            <input id="adr" type="number" name="adr" min="40" step="1" inputmode="decimal"
                   placeholder="e.g., 100" aria-describedby="adrHelp" required autocomplete="off">
            <p id="adrHelp" class="tiny">Use your average nightly room price before taxes/fees.</p>
          </div>
        </div>

        <div class="form-row">
          <label for="booking">Booking engine link</label>
          <input id="booking" type="url" name="booking" placeholder="Direct booking URL" autocomplete="url">
        </div>

        <div class="form-row">
          <label for="email">Your email</label>
          <input id="email" type="email" name="email" required autocomplete="email">
        </div>

        <div class="form-row">
          <label for="notes">Notes (optional)</label>
          <textarea id="notes" name="notes" rows="4" placeholder="Anything we should know?" autocomplete="off"></textarea>
        </div>

        <!-- Helpful metadata for Formspree -->
        <input type="hidden" name="_subject" id="fsSubject" value="">
        <input type="hidden" name="_replyto"  id="fsReply"   value="">
        <input type="hidden" name="source" value="audit-page">
        <input type="text"   name="_gotcha" style="display:none">

        <button class="btn primary" type="submit" id="auditSubmit">Request audit</button>
        <p class="tiny">Prefer email? <a href="mailto:vinnie@keyturn.studio">vinnie@keyturn.studio</a></p>
        <p id="auditMsg" class="tiny" role="status" aria-live="polite" style="margin-top:6px"></p>
      </form>
    </section>
  </div>
</main>

<footer class="container footer">
  <p>Â© <span id="y"></span> Keyturn Studio â€¢ Marketing websites for hospitality</p>
  <p class="small"><a href="/privacy.html">Privacy</a> Â· <a href="/terms.html">Terms</a></p>
</footer>

<!-- Sticky mobile CTA -->
<a href="#audit" class="sticky-cta" aria-label="Request an audit">Request audit</a>

<script>
  // Year
  document.getElementById('y').textContent = new Date().getFullYear();

  // Mobile menu toggle (same behavior as other pages)
  (function(){
    const toggle = document.querySelector('[data-menu-toggle]');
    const drawer = document.getElementById('mobileMenu');
    if (!toggle || !drawer) return;
    const closeDrawer = () => { drawer.hidden = true; toggle.setAttribute('aria-expanded','false'); document.body.classList.remove('no-scroll'); };
    toggle.addEventListener('click', () => {
      const open = toggle.getAttribute('aria-expanded') === 'true';
      toggle.setAttribute('aria-expanded', String(!open));
      drawer.hidden = open;
      document.body.classList.toggle('no-scroll', !open);
    });
    drawer.querySelectorAll('a').forEach(a => a.addEventListener('click', closeDrawer));
  })();

  // Audit form submission (unchanged, just tidied)
  (function(){
    const form = document.getElementById('auditForm');
    const msg  = document.getElementById('auditMsg');
    const btn  = document.getElementById('auditSubmit');
    const fsSubject = document.getElementById('fsSubject');
    const fsReply   = document.getElementById('fsReply');
    const emailInput = document.getElementById('email');
    const propertyInput = document.getElementById('property');

    function setHiddenFields(){
      fsSubject.value = `Audit request: ${propertyInput.value || 'Property'}`;
      fsReply.value = emailInput.value || '';
    }
    emailInput.addEventListener('input', setHiddenFields);
    propertyInput.addEventListener('input', setHiddenFields);

    form.addEventListener('submit', async (e)=>{
      e.preventDefault();
      if (form.checkValidity && !form.checkValidity()){
        form.reportValidity();
        return;
      }
      setHiddenFields();
      msg.textContent = 'Sendingâ€¦';
      btn.disabled = true;

      try{
        const res = await fetch(form.action, {
          method: 'POST',
          headers: { 'Accept': 'application/json' },
          body: new FormData(form)
        });

        if (res.ok){
          window.gtag && window.gtag('event','audit_submit_success', { form: 'audit-page' });
          form.innerHTML = `
            <h3>Thanks! ðŸŽ‰</h3>
            <p>Weâ€™ve got your details. Weâ€™ll send a <strong>2â€“3 minute Loom</strong> with 3 fixes and an ROI estimate.</p>
            <p class="small">If you need to add anything, reply to the confirmation email we just sent.</p>
            <div class="buttons" style="margin-top:10px">
              <a class="btn" href="/">Back to home</a>
              <a class="btn" href="/onboarding.html">See how onboarding works</a>
            </div>`;
        } else {
          msg.textContent = 'Something went wrong. Please try again or email vinnie@keyturn.studio.';
          btn.disabled = false;
        }
      } catch(err){
        msg.textContent = 'Network error. Please try again or email vinnie@keyturn.studio.';
        btn.disabled = false;
      }
    });
  })();
</script>
</body>
</html>
