<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Request a Quick Audit | Keyturn Studio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Get a 10-minute Loom audit with 3 fixes and an ROI estimate for your inn or small hotel.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="icon" type="image/svg+xml" href="/public/logo-mark.svg?v=2">
  <link rel="icon" sizes="32x32" href="/public/favicon-32.png?v=2">
  <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon.png?v=2">
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
<a className="skip-link" href="#main">Skip to content</a>

<header className="container">
  <nav className="nav" aria-label="Primary">
    <a className="brand" href="/" aria-label="Keyturn Studio home">
      <img src="/public/logo.svg?v=2" alt="Keyturn Studio" width="220" height="70">
    </a>
    <div className="nav-links">
      <a href="/onboarding.html">How it works</a>
      <a href="/#results">Proof</a>
      <a href="/#pricing">Pricing</a>
      <a className="cta" href="/audit.html#audit">Get a 10-min audit</a>
    </div>
  </nav>

  <div className="hero">
    <h1>Get a <span className="accent">10-min audit</span></h1>
    <p>Weâ€™ll send a <strong>2â€“3 minute Loom</strong> with <strong>3 fixes</strong> and an <strong>ROI estimate</strong> for moving bookings to website-direct.</p>
  </div>
</header>

<main id="main" className="container section">
  <section className="card" id="audit">
    <h2>Audit form</h2>
    <p className="small">We only use this to send your Loom. No spam â€” ever.</p>

    <form id="auditForm"
          className="audit-form"
          action="https://formspree.io/f/mvgdpyay"
          method="POST">
      <div className="form-row"><label htmlFor="property">Property name</label><input id="property" type="text" name="property" required></div>
      <div className="form-row"><label htmlFor="website">Website URL</label><input id="website" type="url" name="website" placeholder="https://example.com" required></div>

      <div className="form-row two">
        <div>
          <label htmlFor="rooms">Rooms</label>
          <input id="rooms" type="number" name="rooms" min="1" max="100" required>
        </div>
        <div>
          <label htmlFor="adr">
            <abbr title="Average Daily Rate â€” typical nightly room price before taxes/fees">ADR</abbr> (approx.)
          </label>
          <input id="adr" type="number" name="adr" min="40" step="1" inputmode="decimal"
                 placeholder="e.g., 100" aria-describedby="adrHelp" required>
          <p id="adrHelp" className="tiny">Use your average nightly room price before taxes/fees.</p>
        </div>
      </div>

      <div className="form-row"><label htmlFor="booking">Booking engine link</label><input id="booking" type="url" name="booking" placeholder="Direct booking URL"></div>
      <div className="form-row"><label htmlFor="email">Your email</label><input id="email" type="email" name="email" required></div>
      <div className="form-row"><label htmlFor="notes">Notes (optional)</label><textarea id="notes" name="notes" rows="4" placeholder="Anything we should know?"></textarea></div>

      <!-- Helpful metadata for Formspree -->
      <input type="hidden" name="_subject" id="fsSubject" value="">
      <input type="hidden" name="_replyto"  id="fsReply"   value="">
      <input type="hidden" name="source" value="audit-page">
      <input type="text"   name="_gotcha" style="display:none">

      <button className="btn primary" type="submit" id="auditSubmit">Request audit</button>
      <p className="tiny">Prefer email? <a href="mailto:vinnie@keyturn.studio">vinnie@keyturn.studio</a></p>
      <p id="auditMsg" className="tiny" role="status" aria-live="polite" style="margin-top:6px"></p>
    </form>
  </section>
</main>

<footer className="container footer">
  <p>Â© <span id="y"></span> Keyturn Studio â€¢ Marketing websites for hospitality</p>
  <p className="small"><a href="/privacy.html">Privacy</a> Â· <a href="/terms.html">Terms</a></p>
</footer>

<script>
document.getElementById('y').textContent = new Date().getFullYear();

const form = document.getElementById('auditForm');
const msg  = document.getElementById('auditMsg');
const btn  = document.getElementById('auditSubmit');
const fsSubject = document.getElementById('fsSubject');
const fsReply   = document.getElementById('fsReply');
const emailInput = document.getElementById('email');
const propertyInput = document.getElementById('property');

function setHiddenFields(){
  fsSubject.value = `Audit request: ${propertyInput.value || 'Property'}`;
  fsReply.value = emailInput.value || '';
}
emailInput.addEventListener('input', setHiddenFields);
propertyInput.addEventListener('input', setHiddenFields);

form.addEventListener('submit', async (e)=>{
  e.preventDefault();
  setHiddenFields();

  msg.textContent = 'Sendingâ€¦';
  btn.disabled = true;

  try{
    const res = await fetch(form.action, {
      method: 'POST',
      headers: { 'Accept': 'application/json' },
      body: new FormData(form)
    });

    if (res.ok){
      // Optional GA4
      window.gtag && window.gtag('event','audit_submit_success', { form: 'audit-page' });

      form.innerHTML = `
        <h3>Thanks! ðŸŽ‰</h3>
        <p>Weâ€™ve got your details. Weâ€™ll send a <strong>2â€“3 minute Loom</strong> with 3 fixes and an ROI estimate.</p>
        <p className="small">If you need to add anything, reply to the confirmation email we just sent.</p>
        <div className="buttons" style="margin-top:10px">
          <a className="btn" href="/">Back to home</a>
          <a className="btn" href="/onboarding.html">See how onboarding works</a>
        </div>`;
    } else {
      msg.textContent = 'Something went wrong. Please try again or email vinnie@keyturn.studio.';
      btn.disabled = false;
    }
  } catch(err){
    msg.textContent = 'Network error. Please try again or email vinnie@keyturn.studio.';
    btn.disabled = false;
  }
});
</script>
</body>
</html>
